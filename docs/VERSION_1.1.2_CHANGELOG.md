# LinuxStudio v1.1.2 æ›´æ–°æ—¥å¿—

**å‘å¸ƒæ—¥æœŸ**: 2025-11-03

## ğŸ› Bug ä¿®å¤

### 1. Scene å‘½ä»¤æœªç”Ÿæ•ˆé—®é¢˜
- **é—®é¢˜**: ç”¨æˆ·æŠ¥å‘Š `xkl scene apply embedded` å¤±è´¥ï¼Œæç¤º "Error: Unknown command: scene"
- **åŸå› **: GitHub Releases ä¸Šçš„é¢„ç¼–è¯‘åŒ…ç‰ˆæœ¬è¿‡æ—§ï¼ŒæœªåŒ…å«æœ€æ–°çš„ scene å‘½ä»¤å®ç°
- **ä¿®å¤**: 
  - å‡çº§ç‰ˆæœ¬å·åˆ° v1.1.2ï¼Œè§¦å‘æ–°çš„æ„å»º
  - åœ¨å®‰è£…è„šæœ¬ä¸­æ·»åŠ ç‰ˆæœ¬éªŒè¯ï¼Œæ˜¾ç¤ºä¸‹è½½çš„åŒ…ç‰ˆæœ¬
  - å®‰è£…åè‡ªåŠ¨æ£€æŸ¥äºŒè¿›åˆ¶æ–‡ä»¶æ˜¯å¦åŒ…å« scene å‘½ä»¤

### 2. å®‰è£…è¦†ç›–å¤±è´¥é—®é¢˜
- **é—®é¢˜**: é‡æ–°å®‰è£…åä»ç„¶æ˜¯æ—§ç‰ˆæœ¬çš„äºŒè¿›åˆ¶æ–‡ä»¶
- **åŸå› **: è§£å‹æ—¶æœªå¼ºåˆ¶è¦†ç›–æ—§æ–‡ä»¶ï¼Œ`cp` å‘½ä»¤å¯èƒ½è·³è¿‡å·²å­˜åœ¨çš„æ–‡ä»¶
- **ä¿®å¤**:
  - åœ¨å¤åˆ¶å‰å…ˆåˆ é™¤æ—§æ–‡ä»¶ï¼š`rm -f /usr/bin/xkl /usr/bin/linuxstudio`
  - ä½¿ç”¨ `cp -rf` å¼ºåˆ¶è¦†ç›–
  - åˆ é™¤å¹¶é‡æ–°åˆ›å»ºç¬¦å·é“¾æ¥

### 3. å®‰è£…éªŒè¯ä¸å……åˆ†
- **é—®é¢˜**: å®‰è£…åæ— æ³•ç¡®è®¤æ˜¯å¦çœŸçš„æ›´æ–°åˆ°äº†æ–°ç‰ˆæœ¬
- **åŸå› **: ç¼ºå°‘å®‰è£…åçš„ç‰ˆæœ¬æ£€æŸ¥å’ŒåŠŸèƒ½éªŒè¯
- **ä¿®å¤**:
  - æ˜¾ç¤ºä¸‹è½½çš„åŒ…ç‰ˆæœ¬ï¼ˆä½¿ç”¨ `dpkg-deb -f`ï¼‰
  - å®‰è£…åæ˜¾ç¤ºå·²å®‰è£…çš„ç‰ˆæœ¬ï¼ˆä½¿ç”¨ `xkl --version`ï¼‰
  - ä½¿ç”¨ `strings` å‘½ä»¤æ£€æŸ¥äºŒè¿›åˆ¶æ–‡ä»¶æ˜¯å¦åŒ…å« scene å‘½ä»¤
  - å¦‚æœæ£€æµ‹åˆ°æ—§ç‰ˆæœ¬ï¼Œæ˜¾ç¤ºè­¦å‘Šæç¤º

## ğŸ“¦ å®‰è£…è„šæœ¬æ”¹è¿›

### heaven-cn.sh å’Œ heaven.sh æ›´æ–°

```bash
# 1. æ˜¾ç¤ºä¸‹è½½åœ°å€å’ŒåŒ…ç‰ˆæœ¬
info "ä¸‹è½½åœ°å€: $GITHUB_RELEASE/$EMBEDDED_PACKAGE"
if command -v dpkg-deb >/dev/null 2>&1; then
    PACKAGE_VERSION=$(dpkg-deb -f /tmp/linuxstudio_embedded.deb Version 2>/dev/null || echo "unknown")
    info "ä¸‹è½½çš„åŒ…ç‰ˆæœ¬: $PACKAGE_VERSION"
fi

# 2. å¼ºåˆ¶åˆ é™¤æ—§æ–‡ä»¶
rm -f /usr/bin/xkl /usr/bin/linuxstudio 2>/dev/null || true

# 3. å¼ºåˆ¶å¤åˆ¶æ–°æ–‡ä»¶
cp -rf usr/* /usr/ 2>/dev/null || true
cp -rf opt/* /opt/ 2>/dev/null || true
cp -rf etc/* /etc/ 2>/dev/null || true

# 4. éªŒè¯å®‰è£…
if [ -x /usr/bin/xkl ]; then
    INSTALLED_VERSION=$(/usr/bin/xkl --version 2>&1 | grep -oP 'v\d+\.\d+\.\d+' || echo "unknown")
    info "âœ… å®‰è£…æˆåŠŸï¼ç‰ˆæœ¬: $INSTALLED_VERSION"
    
    # æ£€æŸ¥æ˜¯å¦åŒ…å« scene å‘½ä»¤
    if strings /usr/bin/xkl 2>/dev/null | grep -qi "cmdScene|scene list"; then
        info "âœ… ç¡®è®¤åŒ…å« scene å‘½ä»¤"
    else
        warning "âš ï¸  è­¦å‘Šï¼šäºŒè¿›åˆ¶æ–‡ä»¶å¯èƒ½ä¸åŒ…å« scene å‘½ä»¤"
        warning "âš ï¸  è¿™å¯èƒ½æ˜¯æ—§ç‰ˆæœ¬çš„åŒ…ï¼Œè¯·æ£€æŸ¥ GitHub Releases"
    fi
fi
```

## ğŸ“š æ–°å¢æ–‡æ¡£

### 1. `docs/DIAGNOSE_VERSION.md`
å®Œæ•´çš„ç‰ˆæœ¬è¯Šæ–­æŒ‡å—ï¼ŒåŒ…æ‹¬ï¼š
- å¿«é€Ÿè¯Šæ–­è„šæœ¬
- å¸¸è§é—®é¢˜å’Œè§£å†³æ–¹æ³•
- éªŒè¯ä¿®å¤æ­¥éª¤

### 2. `docs/FORCE_UPDATE.md`
å¼ºåˆ¶æ›´æ–°æŒ‡å—ï¼Œæä¾› 4 ç§æ›´æ–°æ–¹æ³•ï¼š
- æ–¹æ³• 1: å®Œå…¨æ¸…ç†åé‡æ–°å®‰è£…
- æ–¹æ³• 2: æ‰‹åŠ¨å¼ºåˆ¶è¦†ç›–å®‰è£…
- æ–¹æ³• 3: æ£€æŸ¥ GitHub Releases ç‰ˆæœ¬
- æ–¹æ³• 4: ä»æºç ç¼–è¯‘

### 3. `docs/COMPILATION.md`
C++ ç¼–è¯‘è¯´æ˜æ–‡æ¡£ï¼ˆä¹‹å‰å·²åˆ›å»ºï¼‰

## ğŸ”§ æŠ€æœ¯æ”¹è¿›

### ç‰ˆæœ¬ç®¡ç†
- **CMakeLists.txt**: `VERSION 1.1.1` â†’ `1.1.2`
- **heaven-cn.sh**: `VERSION="1.1.1"` â†’ `"1.1.2"`
- **heaven.sh**: `VERSION="1.1.1"` â†’ `"1.1.2"`
- **config.yaml**: `version: 1.1.1` â†’ `1.1.2`

### éªŒè¯å¢å¼º
```bash
# æ–°å¢éªŒè¯æ­¥éª¤
1. æ£€æŸ¥ä¸‹è½½çš„åŒ…ç‰ˆæœ¬: dpkg-deb -f xxx.deb Version
2. æ£€æŸ¥å·²å®‰è£…ç‰ˆæœ¬: xkl --version
3. æ£€æŸ¥åŠŸèƒ½å®Œæ•´æ€§: strings /usr/bin/xkl | grep cmdScene
4. æµ‹è¯•åŠŸèƒ½: xkl scene list
```

## ğŸ“ ç”¨æˆ·æŒ‡å—

### å¦‚ä½•ç¡®è®¤å·²æ›´æ–°åˆ° v1.1.2

```bash
# 1. æ£€æŸ¥ç‰ˆæœ¬
xkl --version
# åº”è¯¥æ˜¾ç¤º: LinuxStudio Framework v1.1.2 (C++ Core)

# 2. æµ‹è¯• scene å‘½ä»¤
xkl scene list
# åº”è¯¥æ˜¾ç¤º 9 ä¸ªåœºæ™¯çš„åˆ—è¡¨

# 3. åº”ç”¨åœºæ™¯æµ‹è¯•
xkl scene apply embedded
# åº”è¯¥æ˜¾ç¤ºåµŒå…¥å¼åœºæ™¯çš„ç»„ä»¶åˆ—è¡¨
```

### å¦‚æœä»ç„¶æ˜¯æ—§ç‰ˆæœ¬

è¯·å‚è€ƒ `docs/FORCE_UPDATE.md` ä¸­çš„å¼ºåˆ¶æ›´æ–°æ–¹æ³•ã€‚

## ğŸš€ ä¸‹ä¸€æ­¥è®¡åˆ’

### v1.1.3 è§„åˆ’
- [ ] å®ç°ç»„ä»¶è‡ªåŠ¨å®‰è£…åŠŸèƒ½
- [ ] æ·»åŠ åœºæ™¯é…ç½®æŒä¹…åŒ–
- [ ] æ”¯æŒè‡ªå®šä¹‰åœºæ™¯
- [ ] Web UI é›†æˆ
- [ ] å¤šè¯­è¨€æ”¯æŒæ‰©å±•ï¼ˆæ·»åŠ è‹±æ–‡ä»¥å¤–çš„æ›´å¤šè¯­è¨€ï¼‰

### v1.2.0 è§„åˆ’
- [ ] æ’ä»¶å¸‚åœº
- [ ] è¿œç¨‹ç»„ä»¶ä»“åº“
- [ ] å¤šæœåŠ¡å™¨éƒ¨ç½²æ”¯æŒ
- [ ] Docker å®¹å™¨é›†æˆ
- [ ] CI/CD å·¥å…·é›†æˆ

## ğŸ”— ç›¸å…³é“¾æ¥

- **GitHub ä»“åº“**: https://github.com/happykl-cn/LinuxStudio
- **é—®é¢˜åé¦ˆ**: https://github.com/happykl-cn/LinuxStudio/issues
- **å‘å¸ƒé¡µé¢**: https://github.com/happykl-cn/LinuxStudio/releases/tag/v1.1.2
- **å®‰è£…è„šæœ¬**: https://linuxstudio.org/heaven-cn.sh

## ğŸ™ è‡´è°¢

æ„Ÿè°¢ç”¨æˆ·åé¦ˆçš„é—®é¢˜ï¼Œå¸®åŠ©æˆ‘ä»¬æ”¹è¿› LinuxStudioï¼

---

**å®Œæ•´æ›´æ–°æ—¥å¿—**: https://github.com/happykl-cn/LinuxStudio/compare/v1.1.1...v1.1.2

